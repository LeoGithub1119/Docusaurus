---
slug: RAG
id: RAG
title: 如何在 OpenWebUI 上建立知識庫並取用
---




---

# 快速知識庫建立與取用指南

本指南將協助您完成 Open WebUI Knowledge Base 的管理與取用，並通過導入自定義知識庫文件來搭建 RAG（Retrieval-Augmented Generation）服務。您將學習如何準備、管理與使用知識庫，並快速針對知識庫內容做詰問。

---

## 前置作業

在開始搭建知識庫之前，請確保您已準備好知識庫所需之文件。支持的文件格式包括 `.txt`、`.doc` 和 `.pdf`。以下為準備文件時的重點提示：

1. **文本分割**：
   - LLM（大型語言模型）具有 token 長度限制，導入向量庫時系統會自動將長文本拆分為較小的片段。每段文本作為一個知識單位存儲。
2. **處理表格和圖片**：
   - 若文件中包含表格或圖片，Open WebUI 和相關框架（如 LangChain）僅能處理文字部分。
   - 如需使用圖片中的信息，建議先通過 OCR 工具提取文字內容，或使用文檔轉換工具（如 WPS）將其轉換為文本格式。

---

以下為範例 `.txt `文件，包含多個段落、適合用於測試。
```
請你來扮演我們公司的電商銷售，擅長以幽默風趣的語氣吸引顧客下單，並且能夠用成語來形容我們的產品。

我們公司的零食有：小魚干、花生、雞腿、鴨脖、面包、豆干等。
飲料有：可樂、芬達、美年達、雪碧、橙汁、蘋果醋、葡萄汁等。
銷量最高的是可樂。
我們的老闆是張三，他最愛的零食是雞腿，他最愛的飲料是可樂。
```


![簡易範例txt](/img/rag_2.png)

---

## 知識庫的建立與管理
完成上述準備後，您將進一步操作來管理與使用知識庫。
1. **創建工作區與知識庫**：
   - 進入 Open WebUI 的工作區，點選「知識」選項。
   - 點選右側的 `+` 按鈕，依據需求輸入知識庫的基本資訊（此資訊僅供辨識，對實際功能無影響）。
   - 創建成功後，系統會自動進入該知識庫的管理頁面。

2. **新增知識庫內容**：
   - 在管理頁面中，再次點選 `+` 按鈕。
   - 根據需求，選擇以下四種新增方式之一：
     - 上傳文件
     - 上傳資料夾
     - 使用本機文件替換現有內容
     - 手動新增文本內容
   - 以「上傳檔案」為例：選擇文件後，確認上傳完成，即可在知識庫中看到該文件。

3. **檢查與驗證**：
   - 返回主頁，於對話框輸入 `#` 符號，即可選擇需要使用的知識庫。
   - 每次僅可新增一個知識庫至會話中。
   - 開始針對知識庫內容提問，並檢查輸出結果是否符合預期。
![user視角](/img/rag_1.png)
![admin視角](/img/rag_0.png)
---

## 使用說明與權限分配

- **管理員功能**：
   - 管理員可以進入工作區進一步新增、修改與刪除知識庫內容。
   - 透過 `#` 符號取用現有的知識庫內容進行查詢與交互。


- **使用者權限**：
   - 一般使用者無法進入工作區管理知識庫。
   - 透過 `#` 符號取用現有的知識庫內容進行查詢與交互。

---

至此，您應能成功搭建並使用基於知識庫的 RAG 服務，滿足快速詰問知識庫內容的需求。

如欲更了解知識庫，可參考 [Open WebUI 知識庫文檔](https://docs.openwebui.com/features/workspace/knowledge/)。

